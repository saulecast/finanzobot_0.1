/*! For license information please see containers_2-0-activities-view.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["containers_2-0-activities-view"],{"./src/client/less_2.0/activities/activities-list.module.less":(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const o={listPageContainer:"CYYwi",filterBy:"m4uWf",accessAid:"xWdTN",headerRow:"tOL4u",activityHeaderCol:"_7w8KL",calendarInput:"_0QCcG",headerRowWithCard:"ynbkg",statementIconWrap:"xHtUi",statementIcon:"w92w8",activitiesContainer:"VEl-j",noTransactionWrap:"+9sfK",timeCategoryText:"_9D50J",statusText:"_8xC4J",weeklyText:"eR1Ob",listWrapper:"rJm0K",listWrapperBorder:"jXmSF",loaderWrap:"_17Vfj",transactionList:"PzuDC",resCenterRadioButton:"nUlZg",listTopSectionBorder:"dtYSx",listBottomSectionBorder:"a+JKW",listBottomSectionWithoutBorder:"krp2y",transactionSection:"B55Jx",sectionWrap:"hk+ek",topRow:"apvWg",counterpartyText:"ZuBZk",actionMessage:"ufP7L",giftIcon:"pams3",purchaseProtectionIcon:"wzo8y",amount:"CU1HV",debit:"EjjyA",currencyAmount:"JYvl-",isCancelled:"GRggB",isCurrencyConversion:"kaDpV",currencyText:"AG7Qk",isNeutral:"y6n02",chevronIcon:"evFmE",chevronDownIcon:"qj1XZ",divider:"_7VJXc",showMoreWrap:"aMjNH",showMoreText:"kZ4oF",activityBody:"ZRTc1",activityHeader:"nMh36",tdSimulatorContainer:"+by-F"}},"./src/client/containers_2.0/activities.view.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>q});var o=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=(n("./node_modules/core-js/modules/es.array.iterator.js"),n("./node_modules/core-js/modules/es.object.to-string.js"),n("./node_modules/core-js/modules/es.promise.js"),n("./node_modules/core-js/modules/es.string.iterator.js"),n("./node_modules/core-js/modules/web.dom-collections.iterator.js"),n("./node_modules/core-js/modules/es.array.includes.js"),n("./node_modules/core-js/modules/es.string.includes.js"),n("./node_modules/core-js/modules/es.array.for-each.js"),n("./node_modules/core-js/modules/web.dom-collections.for-each.js"),n("./node_modules/core-js/modules/es.regexp.exec.js"),n("./node_modules/core-js/modules/es.string.search.js"),n("./node_modules/core-js/modules/es.array.index-of.js"),n("./node_modules/core-js/modules/es.array.some.js"),n("./node_modules/core-js/modules/es.string.replace.js"),n("./node_modules/core-js/modules/es.array.filter.js"),n("./node_modules/core-js/modules/es.object.keys.js"),n("./node_modules/@paypalcorp/pp-react-grid/dist/@paypalcorp/pp-react-grid.esm.js")),s=n("./node_modules/react/index.js"),r=n("./node_modules/underscore/modules/index-all.js"),c=n("./src/client/utils/activities.ts"),a=n("./src/client/utils/browserhelper.ts"),l=n("./node_modules/react-redux/es/index.js"),u=n("./src/client/utils/app-context.ts"),m=n("./node_modules/@paypalcorp/pp-react-text/dist/@paypalcorp/pp-react-text.esm.js"),d=n("./node_modules/@paypalcorp/pp-react-buttons/dist/@paypalcorp/pp-react-buttons.esm.js"),v=n("./src/client/components_2.0/activities/promo-offers-list-items.view.tsx"),p=n("./node_modules/@paypalcorp/pp-react-icons/dist/@paypalcorp/pp-react-icons.esm.js"),f=n("./node_modules/classnames/index.js"),_=n.n(f),w=n("./src/client/less_2.0/common.module.less"),h=n("./src/client/constants.ts"),y=n("./node_modules/@loadable/component/dist/loadable.esm.js"),g=n("./src/client/actions/activities.ts"),x=n("./src/client/less_2.0/activities/activities-list.module.less"),P=n("./node_modules/commonweb-utils/index.js"),b=n("./node_modules/react-router/esm/react-router.js"),j=n("./src/client/utils/common.ts"),I=(0,y.ZP)({chunkName:function(){return"components_2-0-common-spinner-view"},isReady:function(e){return Boolean(n.m[this.resolve(e)])},requireAsync:function(){return Promise.resolve().then(n.bind(n,"./src/client/components_2.0/common/spinner.view.tsx"))},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return"./src/client/components_2.0/common/spinner.view.tsx"}}),E=(0,y.ZP)({chunkName:function(){return"components_2-0-activities-no-transaction-view"},isReady:function(e){return Boolean(n.m[this.resolve(e)])},requireAsync:function(){return n.e("components_2-0-activities-no-transaction-view").then(n.bind(n,"./src/client/components_2.0/activities/no-transaction.view.tsx"))},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return"./src/client/components_2.0/activities/no-transaction.view.tsx"}}),A=(0,y.ZP)({chunkName:function(){return"components_2-0-activities-searchbox-view"},isReady:function(e){return Boolean(n.m[this.resolve(e)])},requireAsync:function(){return Promise.all([n.e("ppreact-lib"),n.e("components_2-0-activities-searchbox-view")]).then(n.bind(n,"./src/client/components_2.0/activities/searchbox.view.tsx"))},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return"./src/client/components_2.0/activities/searchbox.view.tsx"}}),T=(0,y.ZP)({chunkName:function(){return"components_2-0-activities-show-more-view"},isReady:function(e){return Boolean(n.m[this.resolve(e)])},requireAsync:function(){return n.e("components_2-0-activities-show-more-view").then(n.bind(n,"./src/client/components_2.0/activities/show-more.view.tsx"))},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return"./src/client/components_2.0/activities/show-more.view.tsx"}}),k=(0,y.ZP)({chunkName:function(){return"components_2-0-activities-transaction-list-view"},isReady:function(e){return Boolean(n.m[this.resolve(e)])},requireAsync:function(){return n.e("components_2-0-activities-transaction-list-view").then(n.bind(n,"./src/client/components_2.0/activities/transaction-list.view.tsx"))},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return"./src/client/components_2.0/activities/transaction-list.view.tsx"}}),C=(0,y.ZP)({chunkName:function(){return"components_2-0-activities-transaction-list-buckets-view"},isReady:function(e){return Boolean(n.m[this.resolve(e)])},requireAsync:function(){return n.e("transaction-list-buckets-view").then(n.bind(n,"./src/client/components_2.0/activities/transaction-list-buckets.view.tsx"))},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return"./src/client/components_2.0/activities/transaction-list-buckets.view.tsx"}}),S=(0,y.ZP)({chunkName:function(){return"components_2-0-activities-filter-view"},isReady:function(e){return Boolean(n.m[this.resolve(e)])},requireAsync:function(){return n.e("components_2-0-activities-filter-view").then(n.bind(n,"./src/client/components_2.0/activities/filter.view.tsx"))},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return"./src/client/components_2.0/activities/filter.view.tsx"}}),L=(0,y.ZP)({chunkName:function(){return"components_2-0-activities-rescenter-footer-layout-view"},isReady:function(e){return Boolean(n.m[this.resolve(e)])},requireAsync:function(){return n.e("components_2-0-activities-rescenter-footer-layout-view").then(n.bind(n,"./src/client/components_2.0/activities/rescenter-footer-layout.view.tsx"))},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return"./src/client/components_2.0/activities/rescenter-footer-layout.view.tsx"}}),D=(0,y.ZP)({chunkName:function(){return"components_2-0-common-banner-view"},isReady:function(e){return Boolean(n.m[this.resolve(e)])},requireAsync:function(){return Promise.all([n.e("ppreact-lib"),n.e("components_2-0-common-banner-view")]).then(n.bind(n,"./src/client/components_2.0/common/banner.view.tsx"))},requireSync:function(e){return n(this.resolve(e))},resolve:function(){return"./src/client/components_2.0/common/banner.view.tsx"}}),Z=h.Z.ROUTES,B=h.Z.LEGACY_ACTIVITY_STATEMENTS_URI,N=h.Z.BASE_URI,R=h.Z.DOC_CENTER_URI,F=function(){var e,t=(0,l.v9)((function(e){return e}),l.wU),n=t.experiments,f=t.locality,h=void 0===f?{}:f,y=t.activitiesReducer.activities,F=y.activityModal,q=(F=void 0===F?{}:F).transactions,W=void 0===q?[]:q,Y=F.currencyCodes,M=void 0===Y?[]:Y,O=F.showLoadMore,G=void 0!==O&&O,U=F.nextPageToken,H=void 0===U?"":U,V=F.startDate,J=void 0===V?"":V,K=F.endDate,X=void 0===K?"":K,z=F.minStartDate,Q=void 0===z?"":z,$=F.maxEndDate,ee=void 0===$?"":$,te=F.transactionFilter,ne=void 0===te?"":te,oe=F.transactionStatusFilter,ie=void 0===oe?"":oe,se=F.transactionCurrencyFilter,re=void 0===se?"":se,ce=F.isServerSideSearchResultNotFound,ae=void 0!==ce&&ce,le=F.morsData,ue=void 0===le?{}:le,me=y.isLoading,de=void 0!==me&&me,ve=y.ftsData,pe=void 0===ve?"":ve,fe=t.commonReducer,_e=(fe=void 0===fe?{}:fe).isMobile,we=void 0!==_e&&_e,he=(0,b.k6)(),ye=(0,l.I0)(),ge=[],xe=(0,s.useContext)(u.Z),Pe=xe.isCardLayoutEnabled,be=xe.isPromoELMOEnabled,je=xe.fpti,Ie=function(e){var t={pageGroup:"listPage",event_name:"download_click",module:"download_statements",url:e};je.trackFPTIEvent(t)},Ee=s.useCallback((function(){var e="click:downloadStatements";if(P.QX.safeGet(n,"treatments").includes("Consumer_Activities_Statements_Upgrade_Disabled"))return Ie(B),window.PAYPAL.fpti.trackFPTILink(e,B),window.location.href=B,!1;if(P.QX.safeGet(n,"treatments").includes("Trmt_Consumer_Activities_Redirect_To_DocCenter"))return Ie(R),window.PAYPAL.fpti.trackFPTILink(e,R),window.location.href=R,!1;var t=N+Z.STATEMENTS;Ie(t),window.PAYPAL.fpti.trackFPTILink(e,t),he.push(t)}),[n,he]),Ae=function(){var e=0,t=0,n=[];if(W.forEach((function(t,n){var o,i,s,r,c,a,l=document.getElementsByClassName("js_transactionItem-".concat(t.id))[0];l&&(o=l,i=document.body.scrollTop||document.documentElement.scrollTop,s=i+window.innerHeight,r=o.getBoundingClientRect(),c=r.height,(a=r.top)+c<=s&&a>=i)&&(e=n+1)})),0===t){var o={pageGroup:"listPage",event_name:"screen_shown",module:"listPageCount",initialDisplayListCount:t=e};window.PAYPAL.fpti.triggerFPTIImpression("home:initialDisplayCount:".concat(t),"",{}),je.triggerFPTIImpression(o)}if(e>t&&-1===n.indexOf(e)){n.push(e);var i={pageGroup:"listPage",event_name:"listPage_scrolled",module:"listItemIndexAfterScroll",itemsInView:e};window.PAYPAL.fpti.triggerFPTIImpression("home:listItemIndex:afterScroll:".concat(e),"",{}),je.trackFPTIEvent(i)}};s.useEffect((function(){return function(){var e=window&&window.location&&window.location.search,t=(0,c.M7)(e,h.timezone);(t.start_date||t.end_date)&&J&&X&&(t.start_date=J,t.end_date=X),M.some((function(e){return e.currencyCode===t.currency}))||(t.currency="");var n=(0,a.xI)(t);ye((0,g.KM)(n));var o=(0,a.qk)(n);he.replace({pathname:"",search:"?".concat(o)})}(),function(){var e=0,t=0,n=0;ge=[],window.PAYPAL.fpti.triggerFPTIImpression("home","",{}),je.triggerFPTIImpression({pageGroup:"listPage",event_name:"screen_shown",module:"listPage"}),W.forEach((function(o){(o.isEbayTxn||o.counterpartyBizName&&o.counterpartyAccountNumber)&&(t++,o.merchantLogoUrl&&e++),o.shouldShow&&n++,o.isXoomTxn&&ge.push(o)}));var o=window&&window.location&&window.location.search,i=(0,c.M7)(o,h.timezone);if(!(0,c.uR)(i))if(n>0)if(ge.length>0){var s={pageGroup:"listPage",event_name:"listPage_count",module:"listPageWithXoomItems",xoom_total_count:ge.length};window.PAYPAL.fpti.triggerFPTIImpression("xoomitems","",{xoom_total_count:ge.length}),je.triggerFPTIImpression(s)}else window.PAYPAL.fpti.triggerFPTIImpression("withTransactions","",{});else window.PAYPAL.fpti.triggerFPTIImpression("withOutTransactions","",{}),je.triggerFPTIImpression({pageGroup:"listPage",event_name:"screen_shown",module:"listPageWithoutTxns"});var r={total_count:t,logo:e},a={pageGroup:"listPage",event_name:"listPage_count",module:"listPage",total_count:t,merchantLogos:e};window.PAYPAL.fpti.triggerFPTIImpression("merchantLogos","",r),je.triggerFPTIImpression(a)}(),window.addEventListener("scroll",(0,r.Ds)((function(){return Ae()}),300)),function(){window.removeEventListener("scroll",Ae)}}),[]);var Te=W.filter((function(e){return e.shouldShow})),ke=Object.keys(ue).length>0&&Object.keys(null==ue?void 0:ue.bannerData).length;return s.createElement(s.Fragment,null,s.createElement(I,{showLoader:de}),be&&s.createElement(v.default,{transaction:{},transactionIndex:0,isModalIntegration:!0,isActivityWidget:!1}),s.createElement("div",{className:x.Z.activityHeader},ke&&s.createElement(D,{bannerData:ue.bannerData})),s.createElement("div",{className:x.Z.activityBody},s.createElement("div",{className:x.Z.listPageContainer},s.createElement(i.Row,{className:_()((e={},(0,o.Z)(e,x.Z.headerRow,!0),(0,o.Z)(e,x.Z.headerRowWithCard,Pe),e))},s.createElement("div",{className:x.Z.activityHeaderCol},s.createElement(A,{ftsData:(0,r.xb)(pe)?"":pe}),!we&&s.createElement("div",{className:x.Z.statementIconWrap},s.createElement(d.Button,{"data-testid":"DownloadIcon","aria-label":"Download Icon",className:x.Z.statementIcon,inverse:!0,onClick:function(){return Ee()},"data-filter":"filterIcon"},s.createElement(p.V2DownloadIcon,{size:"sm","aria-hidden":"true"})))),s.createElement("span",null,s.createElement(m.BodyText,{className:x.Z.filterBy,"data-cy":"filterByText"},(0,j.UD)("activity.activity.inc.filterBy.label"))),s.createElement(i.Col,{xs:12,className:x.Z.activityHeaderCol},s.createElement(S,{startDate:J,endDate:X,minStartDate:Q,maxEndDate:ee,locality:h}))),!(0,r.xb)(Te)&&s.createElement(s.Fragment,null,(0,r.xb)(pe)&&s.createElement(k,{transactions:Te}),!(0,r.xb)(pe)&&s.createElement(i.Row,{className:w.Z.mt24},s.createElement(C,{transactions:Te})),G&&!(pe&&ae)&&!(ne||ie||re&&"ALL"!==re)&&s.createElement(T,{nextPageToken:H})),(0,r.xb)(Te)&&s.createElement(s.Fragment,null,s.createElement(E,{ftsData:(0,r.xb)(pe)?"":pe,transactionFilter:(0,r.xb)(ne)?"":ne,transactionStatusFilter:(0,r.xb)(ie)?"":ie}))),s.createElement(L,null)))};const q=s.memo(F)},"./node_modules/classnames/index.js":(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var r=i.apply(null,n);r&&e.push(r)}}else if("object"===s)if(n.toString===Object.prototype.toString)for(var c in n)o.call(n,c)&&n[c]&&e.push(c);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}}]);