/** 
*
* @Paypal, Inc. and its affiliates.
*
*/
!function(){"use strict";var e=0,o=new function(){this.loadScript=function(t,e){var o=document.createElement("script");o.src=t,o.defer=!0,"function"==typeof e&&(o.onload=e),o.onerror=function(t){};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(o,n)},this.doGet=function(t,e){var o=new XMLHttpRequest;o.open("GET",t,!0),o.onreadystatechange=function(){if(4==o.readyState||"complete"===o.readyState)switch(o.status){case 200:if("function"==typeof e)try{var t=JSON.parse(o.responseText);e(t)}catch(t){e({},{status:o.status,message:"Wrong response"})}break;default:"function"==typeof e&&e({},{status:o.status,message:"Chat not available"})}},o.send()},this.setPolyFills=function(t,e){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),n=1;n<arguments.length;n++){var a=arguments[n];if(null!=a)for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(o[s]=a[s])}return o},writable:!0,configurable:!0}),NodeList&&NodeList.prototype&&"function"!=typeof NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var o=0;o<this.length;o++)t.call(e,this[o],o,this)});var o="https://www.paypalobjects.com/messaging/polyfill-promise.js",n="https://www.paypalobjects.com/messaging/polyfill-set.js";function a(){window.Promise?e():t(o,e)}function s(){window.Set?a():t(n,a)}window.Map?s():t("https://www.paypalobjects.com/messaging/polyfill-map.js",s)}};o.setPolyFills(o.loadScript,function t(){document.body?o.doGet("/smartchat/chat-meta",function(t,e){"object"!=typeof e&&(window.nodeChat?(nodeChat.labels=t.labels,nodeChat.browser=t.browser,nodeChat.country=t.country,nodeChat.token=t.csrfToken,nodeChat.deviceType=t.deviceType,nodeChat.email=t.email,nodeChat.isPhone=t.isPhone,nodeChat.isLoggedIn=t.isLoggedIn,nodeChat.chatOrigin="/smartchat/",nodeChat.chatState=t.chatState):window.nodeChat={labels:t.labels,browser:t.browser,country:t.country,token:t.csrfToken,deviceType:t.deviceType,email:t.email,isPhone:t.isPhone,isLoggedIn:t.isLoggedIn,chatOrigin:"/smartchat/",chatState:t.chatState},window.nodeChat.chatState&&window.nodeChat.chatState.conversationId||sessionStorage.removeItem("org.cometd.reload"),o.loadScript(t.chatScript))}):++e<10&&setTimeout(t,200)})}(window);
